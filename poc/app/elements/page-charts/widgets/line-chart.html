<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/chart-elements/chart-elements.html">


<dom-module id="line-chart">
    <template>
        <style is="custom-style">
            section {
                width: 100%;
                height: 900px;
                @apply(--layout-vertical);
            }

            section paper-dialog-scrollable {

                @apply(--layout-flex);
            }

            paper-dialog-scrollable::shadow #scrollable {
                padding: 0px;
            }

            paper-item {
                --paper-item: {
                    cursor: pointer;
                };
            }

            span {
                padding-right: 10px;
            }
        </style>
        <section>
            <paper-dialog-scrollable>
                <div>
                    <chart-line id="chart" data="[[data]]" options="[[options]]"></chart-line>
                </div>

                <paper-button raised id="button" on-tap="_nativeSubmit">Login</paper-button>
            </paper-dialog-scrollable>
        </section>
    </template>
    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'line-chart',

                behaviors: [
                    Polymer.IronResizableBehavior,
                    ChartBehaviors.DatasetPropertiesBehavior,
                ],

                properties: {
                    data: {
                        type: Object,
                        notify: true
                    },
                    options: {
                        type: Object,
                        notify: true
                    },
                    chart: {
                        type: Object,
                        notify: true
                    }
                },

                ready: function () {
                    this.$.chart.style.width = 600 + 'px';
                    this.$.chart.style.height = 600 + 'px';
                    this.$.chart.resize();


                    this.options = {
                        animation: false
                    };

                    this.data = {
                        labels: ["January", "February", "March", "April", "May", "June", "July"],
                        datasets: [
                            {
                                label: "My Second dataset",
                                fillColor: "rgba(0,0,0,0)",
                                strokeColor: "rgba(151,187,205,1)",
                                pointColor: "rgba(151,187,205,1)",
                                pointStrokeColor: "#fff",
                                pointHighlightFill: "#fff",
                                pointHighlightStroke: "rgba(151,187,205,1)",
                                data: [28, 48, 40, 19, 86, 27, 90]
                            }
                        ]
                    };
                },

                _nativeSubmit: function() {
                    this.data.datasets[0].data.push(200);
                    this.data.labels.push("Time");
                    this.$.chart.updateChart();
                }
            });
        })();
    </script>
</dom-module>
